<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.MemberSecurityMapper">
	<!-- 로그인 -->
	<select id="getMemberById" parameterType="String" resultType="member_security">
		select num, name, id, password, type, isAccountNonexpired, isAccountNonLocked, isCredentialsNonExpired, isEnabled from member where id=#{id}
	</select>
	
	<select id="getMemberAuthorityById" parameterType="String" resultType="String">
		select authority_name from authority where id=#{id}
	</select>
	
	<!-- 회원가입 -->
	<insert id="saveMember" parameterType="member_security">
		insert into member (id, password, isAccountNonExpired, isAccountNonLocked, isCredentialsNonExpired, isEnabled)
		values (#{id},#{password},#{isAccountNonExpired},#{isAccountNonLocked},#{isCredentialsNonExpired},#{isEnabled})
	</insert>
	
	<!-- 권한 부여 -->
	<insert id="saveAuthority" parameterType="Map">
		insert into authority (id, authority_name) values (#{id}, #{authority_name})
	</insert>
</mapper>